{
  "eGovFrame DataSource": {
    "prefix": "egov-datasource",
    "body": [
      "<!-- DataSource Configuration -->",
      "<bean id=\"dataSource\" class=\"org.apache.commons.dbcp2.BasicDataSource\" destroy-method=\"close\">",
      "    <property name=\"driverClassName\" value=\"${1:com.mysql.cj.jdbc.Driver}\" />",
      "    <property name=\"url\" value=\"${2:jdbc:mysql://localhost:3306/egovdb?serverTimezone=UTC}\" />",
      "    <property name=\"username\" value=\"${3:root}\" />",
      "    <property name=\"password\" value=\"${4:password}\" />",
      "</bean>",
      "${0}"
    ],
    "description": "eGovFrame DataSource Configuration"
  },
  "eGovFrame SqlSession": {
    "prefix": "egov-sqlsession",
    "body": [
      "<!-- SqlSession setup for MyBatis Database Layer -->",
      "<bean id=\"sqlSession\" class=\"org.mybatis.spring.SqlSessionFactoryBean\">",
      "    <property name=\"dataSource\" ref=\"dataSource\" />",
      "    <property name=\"configLocation\" value=\"classpath:/egovframework/sqlmap/sql-mapper-config.xml\" />",
      "    <property name=\"mapperLocations\" value=\"classpath:/egovframework/sqlmap/mappers/**/*_SQL.xml\" />",
      "</bean>",
      "",
      "<bean class=\"org.mybatis.spring.mapper.MapperScannerConfigurer\">",
      "    <property name=\"basePackage\" value=\"${1:egovframework.example.sample}.service.impl\" />",
      "    <property name=\"sqlSessionFactoryBeanName\" value=\"sqlSession\" />",
      "</bean>",
      "${0}"
    ],
    "description": "eGovFrame SqlSession Configuration for MyBatis"
  },
  "eGovFrame Transaction Manager": {
    "prefix": "egov-transaction",
    "body": [
      "<!-- Transaction Manager -->",
      "<bean id=\"txManager\" class=\"org.springframework.jdbc.datasource.DataSourceTransactionManager\">",
      "    <property name=\"dataSource\" ref=\"dataSource\" />",
      "</bean>",
      "",
      "<!-- Transaction Advice -->",
      "<tx:advice id=\"txAdvice\" transaction-manager=\"txManager\">",
      "    <tx:attributes>",
      "        <tx:method name=\"select*\" read-only=\"true\" />",
      "        <tx:method name=\"get*\" read-only=\"true\" />",
      "        <tx:method name=\"list*\" read-only=\"true\" />",
      "        <tx:method name=\"*\" rollback-for=\"Exception\" />",
      "    </tx:attributes>",
      "</tx:advice>",
      "",
      "<!-- AOP -->",
      "<aop:config>",
      "    <aop:pointcut id=\"requiredTx\" expression=\"execution(* ${1:egovframework.example.sample}.service.impl.*Impl.*(..))\" />",
      "    <aop:advisor advice-ref=\"txAdvice\" pointcut-ref=\"requiredTx\" />",
      "</aop:config>",
      "${0}"
    ],
    "description": "eGovFrame Transaction Manager Configuration"
  },
  "eGovFrame Mapper": {
    "prefix": "egov-mapper",
    "body": [
      "<?xml version=\"1.0\" encoding=\"UTF-8\"?>",
      "<!DOCTYPE mapper PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\" \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\">",
      "<mapper namespace=\"${1:egovframework.example.sample}.service.impl.${2:Name}Mapper\">",
      "",
      "    <resultMap id=\"${3:resultMap}\" type=\"${1:egovframework.example.sample}.service.${2:Name}VO\">",
      "        <id property=\"id\" column=\"ID\" />",
      "        <result property=\"name\" column=\"NAME\" />",
      "        <result property=\"description\" column=\"DESCRIPTION\" />",
      "        <result property=\"useYn\" column=\"USE_YN\" />",
      "        <result property=\"regUser\" column=\"REG_USER\" />",
      "    </resultMap>",
      "",
      "    <select id=\"select${2:Name}List\" parameterType=\"${1:egovframework.example.sample}.service.${2:Name}DefaultVO\" resultMap=\"${3:resultMap}\">",
      "        SELECT",
      "            ID, NAME, DESCRIPTION, USE_YN, REG_USER",
      "        FROM ${4:TABLE_NAME}",
      "        <where>",
      "            <if test=\"searchKeyword != null and searchKeyword != ''\">",
      "                <choose>",
      "                    <when test=\"searchCondition == 0\">",
      "                        ID LIKE CONCAT('%', #{searchKeyword}, '%')",
      "                    </when>",
      "                    <when test=\"searchCondition == 1\">",
      "                        NAME LIKE CONCAT('%', #{searchKeyword}, '%')",
      "                    </when>",
      "                </choose>",
      "            </if>",
      "        </where>",
      "        ORDER BY ID ASC",
      "        LIMIT #{recordCountPerPage} OFFSET #{firstIndex}",
      "    </select>",
      "",
      "    <select id=\"select${2:Name}ListTotCnt\" parameterType=\"${1:egovframework.example.sample}.service.${2:Name}DefaultVO\" resultType=\"int\">",
      "        SELECT COUNT(*) FROM ${4:TABLE_NAME}",
      "        <where>",
      "            <if test=\"searchKeyword != null and searchKeyword != ''\">",
      "                <choose>",
      "                    <when test=\"searchCondition == 0\">",
      "                        ID LIKE CONCAT('%', #{searchKeyword}, '%')",
      "                    </when>",
      "                    <when test=\"searchCondition == 1\">",
      "                        NAME LIKE CONCAT('%', #{searchKeyword}, '%')",
      "                    </when>",
      "                </choose>",
      "            </if>",
      "        </where>",
      "    </select>",
      "    ${0}",
      "</mapper>"
    ],
    "description": "eGovFrame MyBatis Mapper XML"
  }
} 